/* https://www.w3schools.com/css/css3_animations.asp */
@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

html {
	margin: 0;
	padding: 0;
}

body {
	/* global text styles */
	font-family: "Gill Sans", sans-serif;
	font-weight: lighter;
	letter-spacing: 0.4ch;
	margin: 0;
	padding: 0;

	/*  grey glow behind input textfield
		(gradients don't support transitions, unfortunately) */
	background: white; /* for browsers w/o gradient support */
	background: radial-gradient(circle, #FCFCFB, white);
	background-repeat: no-repeat;
	background-attachment: fixed;

	/* otherwise safari fonts become too thin */
	-webkit-font-smoothing: subpixel-antialiased;
}

#bg {
    min-height: 100vh; /* necessary to fill screen */
    transition: all 1s;
}

#bg.with-page {
	background: white;
	transition: all 1s;
}

header {
	/* center the logo */
	text-align: center;
}

img#logo {
	animation: fade-in 0.5s ease;

	/* TODO: find fixes for non-Chrome browsers */
	user-drag: none;
    user-select: none;

	/* size */
	height: 5em;
	width: 100%; /* otherwise image could overflow on small page widths */

	/* positioning */
    margin: 1em auto 0 auto;
    padding: 0;
}

/* Centering vertically is still fucking hard!
https://stackoverflow.com/questions/356809/best-way-to-center-a-div-on-a-page-vertically-and-horizontally */
.main {
	z-index: 1;
	position: fixed;
	min-width: 100%; /* expand entirely, but always keep a little margin*/
	max-width: 80%; /* fixes problem with layout when hint length > page width */
	top: 40%; /* using 50% looks off somehow...*/
	left: 50%;
	transition: all 0.3s; /* must be "all", not individual attributes */
	transform: translate(-50%, -40%);
	-webkit-transform: translate(-50%, -40%);
    -moz-transform: translate(-50%, -40%);
    -o-transform: translate(-50%, -40%);
    -ms-transform: translate(-50%, -40%);
	border-bottom: solid 2pt rgba(233, 233, 233, 0);
}

.main.top {
	background: #FCFCFB;
	border-bottom: solid 1pt rgba(220, 220, 220, 1);
	top: 0;
	position: fixed;
	transition: all 0.5s; /* must be "all", not individual attributes */
    transform: translate(-50%, 0);
	-webkit-transform: translate(-50%, 0);
    -moz-transform: translate(-50%, 0);
    -o-transform: translate(-50%, 0);
    -ms-transform: translate(-50%, 0);
}

/* 	aligner is necessary for limiting width and centering horisontally!
	without "min-width:98%;" in .vcenter, .vcentor gets crammed,
	so this extra class is necessary to get a max-width.
*/
div#aligner {
	max-width: 80ch;
	margin: auto;
	padding: 0 1ch;
}

form#study-form {
	display: flex;
	margin: 1.4em 0 0 0;
}

input#study-input {
	animation: fade-in 1s ease;

	/* positioning */
	flex: 1;

	/* text-related */
	font-size: 14pt;

	/* box */
	padding: 0.5ch;
	border: 1pt solid #999999;
	border-radius: 0.5ch;
}

button#study-button {
	/* hiding using trick: https://stackoverflow.com/questions/477691/submitting-a-form-by-pressing-enter-without-a-submit-button*/
	border: 0;
	padding: 0;
	font-size: 0;
	width: 0;
}

input.default {
	background-color: white;
	transition: all 0.5s;
}

/* red colouring of input when evaluation returns 0 actions */
input.no-actions {
	background-color: #ffdcc6;
	transition: all 0.5s;
}

div#study-hint {
	max-width: 100%;
	animation: fade-in 0.5s ease;

	/* text-related */
    font-size: 9pt;
    font-weight: lighter;
    color: #999999;
    margin: 0.3em 0 1em 0;
    padding: 0.5ch;
    letter-spacing: 0.6ch;

	/* make sure text stays on a single line */
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;

	/* make sure the hint keeps its height when empty */
	height: 1.2em; /* 1em is having problems displaying span.keypress */
}

span.keypress {
	padding: 0 0.8ch;
	border: 1pt solid #AAAAAA;
    border-radius: 0.5ch;
    background-color: white;
    color: #666666;
}

p, h1 {
	color: #555555;
	margin: 0;
	letter-spacing: 0.2ch;
}


h1 {
	font-family: Didot, serif;
	font-weight: 600;
	font-size: 24pt;
	margin: 0 0 0.2em 0;
}

/* headers above lists (e.g. search results) should be centered */
h1.list-header {
	text-align: center;
}

p {
	font-size: 14pt;
	font-weight: 100;
	margin: 0 0 1em 0;
	color: #777777;
}

.pedestal {
	/* positioning */
    position: relative;
    top: 13em; /* pos relative to header varies a bit on different browsers */
    margin: auto;
    padding: 0 1ch;

	/* 	to make sure the page can reached on small screen sizes,
		otherwise the footer might block the view */
	border-bottom: 5.5em solid rgba(255,255,255,0);
}

article {
	animation: fade-in 0.5s ease;

	/* box */
	max-width: 80ch;

	/* positioning */
    margin: auto;

	/* text-related */
    color: #999999;
    letter-spacing: 0.2ch;
}

hr {
    height: 1pt;
    background: rgba(220, 220, 220, 1);
    font-size: 0;
    border: 0;
}

.dictionary-entries {
	font-size: 16pt;
	list-style-type: none;
	padding: 0;
	margin: 0;
}

.dictionary-entries li {
    margin-bottom: 1em;

    /* make sure text stays on a single line */
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.dictionary-entries a {
	color: inherit;
}

.dictionary-entries a:hover {
	color: #333333;
	text-decoration: none;
}

.dictionary-entries a:hover .hanzi {
	color: #333333;
}

.dictionary-entries a:hover .pinyin {
	color: #333333;
}

.dictionary-entries .hanzi {
	font-size: 24pt;
}

.hanzi {
	color: #555555;
	/* http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/ */
	font-family: Georgia, "Times New Roman", "KaiTi", "楷体", STKaiti, "华文楷体", serif;
}

.traditional {
	display: none; /* TODO: support both */
}

.simplified {
	/*display: none;*/
}

.pinyin {
	color: #DD8888;
	font-family: Didot, serif;
}

.pinyin::before {
	content: "[";
}

.pinyin::after {
	content: "]";
}

.definition + .definition::before {
	content: "; ";
}

footer {
	animation: fade-in 1.5s ease;

	/* text */
	text-align: center;
	color: #DD8888;

	/* box */
	border-top: solid 1pt #AA4433;
	background: linear-gradient(#BB5544, #AB4230);
	border-left: 1pt solid #BB5544; /* fixes problem with transparent left border */
	padding: 1.5em 0 0.5em 0;
	width: 100%;

	/* position */
	position: fixed;
	margin: 0;
    bottom: 0;
}

nav {
	/* text-related */
	font-family: "Gill Sans", sans-serif;
    font-size: 12pt;
}

p#copyright {
	color: #DD8888;
	margin-top: 1.5em;
	font-size: 8pt;
}

a {
	color: #2222BB;
	text-decoration: none;
}

a:hover {
	color: #2222FF;
	text-decoration: underline;
}

a.current-page, a.current-page:hover {
	color: #661111;
	text-decoration: none;
}

footer a {
	color: white;
}

footer a:hover {
	color: white;
	text-decoration: underline;
}
